---
layout: post
title: Discord bot 
date: 2024-01-29 11:12:00-0400
description: This post presents my first Discord bot, which serves to remind users of events scheduled for the upcoming week and automatically updates the weekly message.
related_posts: false
---
<h2><u>Introduction</u></h2>
This post presents my first Discord bot, which serves to remind users of events scheduled for the upcoming week and automatically updates the weekly message. It's Python's code is available on my <a href="https://github.com/ChapponE/event_bot/tree/master">github</a>. 

<h2><u>How to use</u></h2>
After you pulled the github project, you must create a ".env" at the roots of your bot folder. this .env must contain the 3 variables DISCORD_API_TOKEN, channel_id, guild_id which you can find in your application bot settings for the first one and on your discord guild and channel for the 2 lasts. You must choose the channel_id of the channel you want that the bot send message every week.

<h2><u>Customize</u></h2>
It is possible to customize the bot. You can change, in the main.py file, the variables below:
````markdown
# Constants
DAY = 6  # The day on which the weekly reminder is triggered (0 is Monday, 6 is Sunday)
HOUR = 12  # The hour (UTC) at which the weekly reminder is triggered
MIN_MIN = 20  # The minimum minute within the HOUR for the weekly reminder
MIN_MAX = 40  # The maximum minute within the HOUR for the weekly reminder
DAYS_INTERVAL = 7  # The number of days into the future for considering events
NB_MINUTES_LIST_EVENTS_SLEEP = MIN_MAX - MIN_MIN + 1  # Interval to sleep after posting events in the channel
NB_MINUTES_WEEKLY_REMINDER_LOOP = MIN_MAX - MIN_MIN - 1  # Interval for the weekly reminder loop
NB_MINUTES_CHECK_CHANGES_LOOP = 20  # Interval to check for changes in events
````
The basics settings is set to send a message every sunday (6) at noon (12) beetween 20 and 40 minutes. The events which are starting in the 7 following days are included in this message. A sleeping time of 21 (40-20+1) to assert to not send the message twice. Every 19 (40-20-1) minutes the weekly_reminder loop is checked to know if it is the time to send a new message. The changments are checked and message updated every 20 minutes.
